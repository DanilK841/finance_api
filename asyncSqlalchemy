# –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é SQLAlchemy –ø–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

### 1. **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É SQLAlchemy**
**üîó –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**:  
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html)

### 2. **–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã**:

#### **Asyncio Integration** (–æ—Å–Ω–æ–≤–Ω–æ–π –≥–∞–π–¥):
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asyncio-integration](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asyncio-integration)

#### **AsyncEngine and AsyncConnection**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asyncengine-and-asyncconnection](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asyncengine-and-asyncconnection)

#### **AsyncSession** (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!):
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asynciosession](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#asynciosession)

#### **Running Synchronous Methods and Functions under Async**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#running-synchronous-methods-and-functions-under-async](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#running-synchronous-methods-and-functions-under-async)

### 3. **–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞**:

#### **Basic Async Usage**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#basic-async-usage](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#basic-async-usage)

#### **Async Queries**:
```python
from sqlalchemy import select
from sqlalchemy.ext.asyncio import AsyncSession

async with AsyncSession(engine) as session:
    result = await session.execute(
        select(User).where(User.name == "some name")
    )
    user = result.scalar_one()
```

### 4. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥**:

#### **Migration from Synchronous to Asynchronous**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#migration-from-synchronous-to-asynchronous](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#migration-from-synchronous-to-asynchronous)

### 5. **–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è**:

#### **Common Pitfalls**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#common-pitfalls](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#common-pitfalls)

### 6. **Async ORM Querying**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#async-orm-querying](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#async-orm-querying)

### 7. **Async Relationships and Lazy Loading**:
[https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#async-relationships-and-lazy-loading](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#async-relationships-and-lazy-loading)

## –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `AsyncSession`** –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ `Session`
2. **–í—Å–µ ORM –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å `await`**:  
   - `await session.execute(query)`
   - `await session.commit()`
   - `await session.refresh()`
   - `await session.close()`

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `select()` –≤–º–µ—Å—Ç–æ `query()`**:
```python
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ (async)
result = await session.execute(select(User).where(User.id == 1))
user = result.scalar_one()

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (sync)
user = session.query(User).filter(User.id == 1).first()
```

4. **–î–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ eager loading**:
```python
from sqlalchemy.orm import selectinload

result = await session.execute(
    select(User)
    .options(selectinload(User.posts))
    .where(User.id == 1)
)
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- **Async API Reference**: [https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#api-reference](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#api-reference)
- **Tutorial**: [https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#tutorial](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html#tutorial)

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ—á–∏—Ç–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª **"Common Pitfalls"** - —Ç–∞–º –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏, –≤–∫–ª—é—á–∞—è —Ç—É, —á—Ç–æ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∞ —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –æ—Ç–Ω–æ—à–µ–Ω–∏–π!
